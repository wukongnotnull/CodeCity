(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{607:function(t,a,s){"use strict";s.r(a);var r=s(25),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"用fastapi开发网络数据接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用fastapi开发网络数据接口"}},[t._v("#")]),t._v(" 用FastAPI开发网络数据接口")]),t._v(" "),s("p",[t._v("FastAPI 是一个用于构建API（网络数据接口）的现代、高性能的Web框架，基于Python 3.6+，使用了Python中的类型提示进行类型检查，非常符合工程化开发的需求，在业界有非常好的口碑。下面，我们先用代码告诉大家FastAPI到底能做什么，然后再来讲解它的方方面面。")]),t._v(" "),s("h2",{attrs:{id:"fastapi五分钟上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fastapi五分钟上手"}},[t._v("#")]),t._v(" FastAPI五分钟上手")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("安装依赖库和ASGI服务器（支持异步I/O的Python服务器）。")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" fastapi\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" uvicorn\n")])])])]),t._v(" "),s("li",[s("p",[t._v("编写代码"),s("code",[t._v("main.py")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-Python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" fastapi "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" FastAPI\n\napp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FastAPI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say_hello")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'code'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello, world!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("运行服务。")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("uvicorn main:app --reload\n")])])]),s("blockquote",[s("p",[s("strong",[t._v("说明")]),t._v("：上面运行uvicorn时使用的"),s("code",[t._v("--reload")]),t._v("参数会在代码发生变更时自动重新加载新的内容，这个参数在开发阶段非常的有用。")])])]),t._v(" "),s("li",[s("p",[t._v("访问服务。")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wuKongNotNull/images-hosting/wukong-website/run-first-demo.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[s("p",[t._v("查看文档。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wuKongNotNull/images-hosting/wukong-website/first-demo-docs.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("注意")]),t._v("：FastAPI会基于"),s("a",{attrs:{href:"https://swagger.io/tools/swagger-ui/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Swagger UI"),s("OutboundLink")],1),t._v("自动为数据接口生成对应的文档。")])])])]),t._v(" "),s("h2",{attrs:{id:"请求和响应"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求和响应"}},[t._v("#")]),t._v(" 请求和响应")]),t._v(" "),s("h2",{attrs:{id:"接入关系型数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入关系型数据库"}},[t._v("#")]),t._v(" 接入关系型数据库")]),t._v(" "),s("p",[t._v("我们可以使用SQLAlchemy三方库来实现对关系型数据库的接入。SQLAlchemy是一个ORM（对象关系映射）框架，ORM框架可以解决Python程序的面向对象模型和关系型数据库的关系模型并不匹配的问题，使得我们可以用面向对象的方式实现数据的CRUD操作。")]),t._v(" "),s("h2",{attrs:{id:"依赖注入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖注入"}},[t._v("#")]),t._v(" 依赖注入")]),t._v(" "),s("h2",{attrs:{id:"中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#中间件"}},[t._v("#")]),t._v(" 中间件")]),t._v(" "),s("h2",{attrs:{id:"异步化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异步化"}},[t._v("#")]),t._v(" 异步化")]),t._v(" "),s("h2",{attrs:{id:"虚拟化部署-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#虚拟化部署-docker"}},[t._v("#")]),t._v(" 虚拟化部署（Docker）")]),t._v(" "),s("h2",{attrs:{id:"项目实战-车辆违章查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目实战-车辆违章查询"}},[t._v("#")]),t._v(" 项目实战：车辆违章查询")])])}),[],!1,null,null,null);a.default=n.exports}}]);